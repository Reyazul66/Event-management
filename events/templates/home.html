{% extends "nav.html" %}
{% load static %}
{% block event %}

  <!-- Hero Section with Search -->
 <section class="relative h-80 bg-cover bg-center" 
         style="background-image: url('{% static 'images/event.jpg' %}');">
  <!-- Overlay for dim effect -->
  <div class="absolute inset-0 bg-rose-500/60"></div>

  <!-- Content -->
  <div class="relative container mx-auto px-4 text-center flex flex-col justify-center items-center h-full text-white">
    <h1 class="text-4xl md:text-5xl font-bold mb-4">WE ARE EVENT PROFESSIONALS</h1>
    <p class="text-lg md:text-xl mb-6">Celebrations Made Simple & Special</p>

    <!-- Search Form -->
    <div class="flex justify-center mb-6 w-full max-w-md">
      <form method="get" action="" class="flex w-full">
        <input type="text" name="q" value="{{ query|default:'' }}" 
               placeholder="Search event..."
               class="w-full px-4 py-2 rounded-l-lg text-gray-800 focus:outline-none">
        <button type="submit"
                class="bg-white text-rose-500 px-6 py-2 rounded-r-lg font-bold hover:bg-gray-200 transition">
          Search
        </button>
      </form>
    </div>
  </div>
</section>


  <!-- Cards Section -->
  <section class="container mx-auto px-4 py-16">
    <h2 class="text-3xl font-bold text-center mb-12">Our Events</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      
    {% for event in events %}
      <!-- Card -->
      <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
        <h3 class="text-xl font-semibold mb-2">{{event.name}}</h3>
        <p class="text-gray-600 mb-2">{{event.description|slice:":60"}}</p>

        <!-- Date & Location -->
        <p class="text-sm text-gray-500">
          <span class="font-bold text-red-600">Date:</span> {{ event.date }}
        </p>
        <p class="text-sm text-gray-500 mb-4">
          <span class="font-bold text-blue-600">Location:</span> {{ event.location }}
        </p>

        <button onclick="openModal('{{ event.name }}', '{{ event.description|escapejs }}')" 
                class="text-rose-500 font-bold hover:underline">
          Details â†’
        </button>
      </div>
    {% empty %}
      <p class="text-gray-500">No events available right now</p>
    {% endfor %}

    </div>
  </section>

  <!-- Modal -->
  <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg max-w-lg w-full p-6 relative">
      <button onclick="closeModal()" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 font-bold">&times;</button>
      <h3 id="modalTitle" class="text-2xl font-semibold mb-4"></h3>
      <p id="modalContent" class="text-gray-700"></p>
    </div>
  </div>

  <!-- Script -->
  <script>
    function openModal(title, content) {
      document.getElementById('modalTitle').innerText = title;
      document.getElementById('modalContent').innerText = content;
      document.getElementById('modal').classList.remove('hidden');
      document.getElementById('modal').classList.add('flex');
    }

    function closeModal() {
      document.getElementById('modal').classList.add('hidden');
      document.getElementById('modal').classList.remove('flex');
    }
  </script>

</body>
</html>

{% endblock event %}
